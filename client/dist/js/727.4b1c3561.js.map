{"version":3,"file":"js/727.4b1c3561.js","mappings":"8NACOA,MAAM,oB,GAGAA,MAAM,e,GAORA,MAAM,uB,GAWNA,MAAM,iB,GAMJA,MAAM,mB,SACgCA,MAAM,Y,SAGPA,MAAM,Y,GAO7CA,MAAM,kB,SA4BNA,MAAM,iB,SAoCNA,MAAM,kB,GAoBJA,MAAM,oB,GAENA,MAAM,iB,GAOJA,MAAM,e,GAEJA,MAAM,kB,GAsBVA,MAAM,kB,GAGAA,MAAM,kB,uxBA9JvB,QAyLM,MAzLN,EAyLM,EAxLJ,QAuLU,GAvLDA,MAAM,YAAYC,OAAO,S,CACrBC,QAAM,QACf,IAGM,EAHN,QAGM,MAHN,EAGM,EAFJ,QAA6C,YAAzC,QAA+B,Q,iBAAtB,IAAY,EAAZ,QAAY,K,2BAAU,SAAK,M,aACxC,QAAuD,KAApDF,MAAM,iBAAgB,8BAA0B,Q,iBAKvD,IAQM,EARN,QAQM,MARN,EAQM,EAPJ,QAME,GALAG,MAAM,SACNC,KAAK,OACLC,YAAY,yDACZ,eACCC,UAAU,OAKf,QAcM,MAdN,EAcM,C,eAbJ,QAAe,UAAX,UAAM,KACV,QAGiB,G,WAHQ,EAAAC,Y,qCAAA,EAAW,eAAEP,MAAM,mB,kBAC1C,IAAiE,EAAjE,QAAiE,GAAhDQ,MAAM,aAAW,C,iBAAC,IAAY,c,QAAZ,gBAAY,M,cAC/C,QAA+D,GAA9CA,MAAM,YAAU,C,iBAAC,IAAW,c,QAAX,eAAW,M,uCAE/C,QAOM,MAPN,EAOM,CANwB,cAAhB,EAAAD,c,WAAZ,QAEO,OAFP,EAEO,EADL,QAA2B,Q,iBAAlB,IAAQ,EAAR,QAAQ,K,6BAAU,sCAC7B,Q,eAC4B,aAAhB,EAAAA,c,WAAZ,QAEO,OAFP,EAEO,EADL,QAA0B,Q,iBAAjB,IAAO,EAAP,QAAO,K,6BAAU,sCAC5B,Q,oBAKJ,QAyBM,MAzBN,EAyBM,C,eAxBJ,QAAiB,UAAb,YAAQ,I,eACZ,QAEM,OAFDP,MAAM,cAAY,EACrB,QAA6C,SAA1C,4C,KAGL,QAkBY,GAjBVS,IAAI,YACJT,MAAM,cACNU,KAAA,GACC,eAAa,EACb,YAAW,EAAAC,iBACX,YAAW,EAAAC,iBACX,YAAW,EAAAC,SACZC,OAAO,6DACNC,MAAO,G,kBAER,IAA4D,EAA5D,QAA4D,GAAnDf,MAAM,mBAAiB,C,iBAAC,IAAiB,EAAjB,QAAiB,K,qBAClD,QAEM,OAFDA,MAAM,mBAAiB,E,QAAC,mBACd,QAAa,UAAT,U,mBAEnB,QAEM,OAFDA,MAAM,kBAAiB,gFAE5B,M,2DAK6B,EAAAa,SAASG,OAAS,I,WAAnD,QAiCM,MAjCN,EAiCM,C,eAhCJ,QAAa,UAAT,QAAI,KACR,QA8BU,GA9BAC,MAAO,EAAAC,WAAY,cAAY,S,kBACvC,IAoBS,EApBT,QAoBS,GApBAC,OAAQ,IAAE,C,iBACjB,IASS,EATT,QASS,GATAC,KAAM,IAAE,C,iBACf,IAOe,EAPf,QAOe,GAPDZ,MAAM,QAAM,C,iBACxB,IAKoB,EALpB,QAKoB,G,WALQ,EAAAU,WAAWG,W,qCAAX,EAAAH,WAAqB,e,kBAC/C,IAAmD,EAAnD,QAAmD,GAAtCV,MAAM,gBAAc,C,iBAAC,IAAG,gB,QAAH,OAAG,M,eACrC,QAA+C,GAAlCA,MAAM,YAAU,C,iBAAC,IAAG,gB,QAAH,OAAG,M,eACjC,QAAqD,GAAxCA,MAAM,iBAAe,C,iBAAC,IAAI,gB,QAAJ,QAAI,M,eACvC,QAA8C,GAAjCA,MAAM,WAAS,C,iBAAC,IAAG,gB,QAAH,OAAG,M,wDAItC,QAQS,GARAY,KAAM,IAAE,C,iBACf,IAMe,EANf,QAMe,GANDZ,MAAM,QAAM,C,iBACxB,IAIiB,EAJjB,QAIiB,G,WAJQ,EAAAU,WAAWI,M,qCAAX,EAAAJ,WAAgB,U,kBACvC,IAAuC,EAAvC,QAAuC,GAA7BV,MAAM,SAAO,C,iBAAC,IAAI,gB,QAAJ,QAAI,M,eAC5B,QAA0C,GAAhCA,MAAM,YAAU,C,iBAAC,IAAI,gB,QAAJ,QAAI,M,eAC/B,QAA+C,GAArCA,MAAM,iBAAe,C,iBAAC,IAAI,gB,QAAJ,QAAI,M,gEAK5C,QAOe,GAPDA,MAAM,QAAM,C,iBACxB,IAKE,EALF,QAKE,G,WAJS,EAAAU,WAAWK,a,qCAAX,EAAAL,WAAuB,gBAChCd,KAAK,WACJoB,KAAM,EACPC,YAAY,sB,sEAOc,EAAAZ,SAASG,OAAS,I,WAApD,QAWM,MAXN,EAWM,EAVJ,QASY,GARVZ,KAAK,UACLsB,KAAK,QACJC,QAAS,EAAAA,QACT,QAAO,EAAAC,YACR5B,MAAM,c,kBAoEV,IAIK,CAtEe,EAAA2B,S,4BAAhB,QAA6C,W,iBAApB,IAAU,EAAV,QAAU,K,gBAAU,KAC7C,QAAG,EAAAA,QAAU,SAAW,QAAd,K,iDAKC,EAAY,e,WAA3B,QAUU,G,MAVmB3B,MAAM,gBAAgBC,OAAO,S,CAC7CC,QAAM,QACf,IAEM,gBAFN,QAEM,OAFDF,MAAM,eAAa,EACtB,QAAa,UAAT,U,uBAGR,IAGM,EAHN,QAGM,MAHN,EAGM,EAFJ,QAA+D,GAAjD6B,WAAY,EAAAC,SAAWC,OAAQ,EAAAC,gB,iCAC7C,QAA+C,IAA/C,GAA+C,QAAnB,EAAAC,cAAY,O,uBAK7B,EAAY,e,WAA3B,QAsDU,G,MAtDmBjC,MAAM,cAAcC,OAAO,S,CAC3CC,QAAM,QACf,IAqBM,EArBN,QAqBM,MArBN,EAqBM,C,eApBJ,QAAa,UAAT,QAAI,KACR,QAkBM,MAlBN,EAkBM,EAjBJ,QAQY,GAPVE,KAAK,UACLsB,KAAK,QACJ,QAAO,EAAAQ,eACPC,UAAW,EAAAC,a,kBAEZ,IAA+B,EAA/B,QAA+B,Q,iBAAtB,IAAY,EAAZ,QAAY,K,6BAAU,UAEjC,M,wCACA,QAOY,GANVhC,KAAK,UACLsB,KAAK,QACJ,QAAO,EAAAW,iB,kBAER,IAAmC,EAAnC,QAAmC,Q,iBAA1B,IAAgB,EAAhB,QAAgB,K,6BAAU,UAErC,M,mDAKN,IA2BM,EA3BN,QA2BM,MA3BN,EA2BM,EA1BJ,QAyBU,I,WAzBQ,EAAAC,U,qCAAA,EAAS,aAAElC,KAAK,e,kBAChC,IAiBc,EAjBd,QAiBc,GAjBDI,MAAM,OAAO+B,KAAK,W,kBAC7B,IAeM,EAfN,QAeM,MAfN,EAeM,EAdJ,QAakB,GAbAC,OAAQ,EAAGC,OAAA,I,kBAC3B,IAEuB,EAFvB,QAEuB,GAFDjC,MAAM,QAAM,C,iBAChC,IAAmE,EAAnE,QAAmE,G,WAAjD,EAAAkC,aAAaC,a,qCAAb,EAAAD,aAAyB,gBAAEP,SAAA,GAAS,iB,gCAExD,QAEuB,GAFD3B,MAAM,QAAM,C,iBAChC,IAAyC,E,iBAAtC,EAAAoC,WAAW,EAAAF,aAAaG,aAAU,K,OAEvC,QAEuB,GAFDrC,MAAM,QAAM,C,iBAChC,IAAsC,E,iBAAnC,EAAAkC,aAAaI,YAAc,OAAJ,K,OAE5B,QAEuB,GAFDtC,MAAM,QAAM,C,iBAChC,IAAoG,EAApG,QAAoG,GAA3FJ,KAAM,EAAA2C,gBAAgB,EAAAL,aAAaM,a,kBAAa,IAAkC,E,iBAA/B,EAAAN,aAAaM,YAAc,GAAJ,K,4CAK3F,QAEc,GAFDxC,MAAM,OAAO+B,KAAK,Y,kBAC7B,IAAqF,EAArF,QAAqF,OAAhFvC,MAAM,iBAAiB,UAAQ,EAAAiD,oBAAoB,EAAAP,aAAaQ,U,mBAEvE,QAEc,GAFD1C,MAAM,OAAO+B,KAAK,e,kBAC7B,IAA4F,EAA5F,QAA4F,OAAvFvC,MAAM,sBAAsB,UAAQ,EAAAmD,kBAAkB,EAAAT,aAAaU,c,0HAetF,GACEb,KAAM,iBACNc,WAAY,CACVC,SAAQ,WACRC,KAAI,OACJC,IAAG,MACHC,aAAY,eACZC,OAAM,SACNC,SAAQ,WACRC,aAAY,gBAEd,KAAAC,GACE,MAAMtD,GAAc,QAAI,aAClBM,GAAW,QAAI,IACfc,GAAU,SAAI,GACdmC,GAAe,SAAI,GACnBhC,GAAW,QAAI,GACfE,GAAiB,QAAI,IACrBC,GAAe,QAAI,IACnBS,GAAe,QAAI,MACnBN,GAAc,QAAI,IAClBE,GAAY,QAAI,WAEhBpB,GAAa,QAAS,CAC1BG,WAAY,CAAC,eAAgB,WAAY,gBAAiB,WAC1DC,MAAO,WACPC,aAAc,KAGVwC,GAAY,QAAI,MAGhBpD,EAAoBqD,IACxBnD,EAASoD,MAAQ,CAACD,IAIdpD,EAAmB,KACvBC,EAASoD,MAAQ,IAIbrC,EAAcsC,UAClB,GAA8B,IAA1BrD,EAASoD,MAAMjD,OAAnB,CAKAW,EAAQsC,OAAQ,EAChBH,EAAaG,OAAQ,EACrBnC,EAASmC,MAAQ,EACjBjC,EAAeiC,MAAQ,SACvBhC,EAAagC,MAAQ,YAErB,IACE,MAAME,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQxD,EAASoD,MAAM,GAAGK,KAC1CH,EAASE,OAAO,cAAe9D,EAAY0D,OAC3CE,EAASE,OAAO,aAAcE,KAAKC,UAAUtD,EAAWG,aACxD8C,EAASE,OAAO,QAASnD,EAAWI,OACpC6C,EAASE,OAAO,eAAgBnD,EAAWK,cAG3C,MAAMkD,EAAmBC,YAAY,KAC/B5C,EAASmC,MAAQ,KACnBnC,EAASmC,OAAS,GACK,KAAnBnC,EAASmC,MACXhC,EAAagC,MAAQ,cACO,KAAnBnC,EAASmC,MAClBhC,EAAagC,MAAQ,cACO,KAAnBnC,EAASmC,QAClBhC,EAAagC,MAAQ,iBAGxB,KAEGU,QAAiBC,EAAA,EAAMC,KAAK,yBAA0BV,EAAU,CACpEW,QAAS,CACP,eAAgB,yBASpB,GALAC,cAAcN,GACd3C,EAASmC,MAAQ,IACjBjC,EAAeiC,MAAQ,UACvBhC,EAAagC,MAAQ,SAEjBU,EAASK,KAAKC,QAYhB,MAAM,IAAIC,MAAMP,EAASK,KAAKG,OAAS,QAXvCzC,EAAauB,MAAQ,CACnBf,QAASyB,EAASK,KAAK9B,QACvBP,aAAcgC,EAASK,KAAKrC,cAAgB,EAC5CE,WAAY,IAAIuC,KAChBtC,WAAY6B,EAASK,KAAKlC,WAC1BE,WAAY2B,EAASK,KAAKhC,WAC1BI,YAAauB,EAASK,KAAK5B,aAE7BhB,EAAY6B,MAAQU,EAASK,KAAK5C,YAClC,KAAU6C,QAAQ,SAItB,CAAE,MAAOE,GACPE,QAAQF,MAAM,QAASA,GACvBrD,EAASmC,MAAQ,IACjBjC,EAAeiC,MAAQ,YACvBhC,EAAagC,MAAQ,OACrB,KAAUkB,MAAMA,EAAMG,SAAW,cAGjC5C,EAAauB,MAAQ,CACnBf,QAAS,mSACTP,aAAc,IACdE,WAAY,IAAIuC,KAChBtC,WAAY,GACZE,WAAY,EACZI,YAAa,iPAEjB,CAAE,QACAzB,EAAQsC,OAAQ,EAChBsB,WAAW,KACTzB,EAAaG,OAAQ,GACpB,IACL,CA5EA,MAFE,KAAUuB,QAAQ,eAkFhBtD,EAAiB,KACjBE,EAAY6B,MACdwB,OAAOC,KAAKtD,EAAY6B,MAAO,UAE/B,KAAUuB,QAAQ,aAKhBnD,EAAkB6B,UACtB,GAAKxB,EAAauB,MAElB,IACE,MAAMf,EAAUR,EAAauB,MAAMf,QAAU,OAASR,EAAauB,MAAMb,kBACnEuC,UAAUC,UAAUC,UAAU3C,GACpC,KAAU+B,QAAQ,cACpB,CAAE,MAAOE,GACP,KAAUA,MAAM,aAClB,GAIIvC,EAAckD,GACbA,EACE,IAAIV,KAAKU,GAAMC,eAAe,SADnB,MAKd9C,EAAuBC,GACtBA,EACEA,EAAQ8C,QAAQ,MAAO,QAAQA,QAAQ,iBAAkB,uBAD3C,GAKjB7C,EAAqBC,GACpBA,EACEA,EAAY4C,QAAQ,MAAO,QAAQA,QAAQ,iBAAkB,uBAD3C,GAKrBjD,EAAmBkD,GACT,IAAVA,EAAoB,UACpBA,GAAS,EAAU,UAChB,SAGT,MAAO,CACL1F,cACAM,WACAc,UACAmC,eACAhC,WACAE,iBACAC,eACAS,eACAN,cACAE,YACApB,aACA6C,YACApD,mBACAC,mBACAgB,cACAM,iBACAG,kBACAO,aACAK,sBACAE,oBACAJ,kBAEJ,G,UC/XF,MAAMmD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://test-case-generator-client/./src/views/TestCaseReview.vue","webpack://test-case-generator-client/./src/views/TestCaseReview.vue?2189"],"sourcesContent":["<template>\n  <div class=\"test-case-review\">\n    <el-card class=\"main-card\" shadow=\"hover\">\n      <template #header>\n        <div class=\"card-header\">\n          <h2><el-icon><Document /></el-icon> 用例评审</h2>\n          <p class=\"card-subtitle\">上传测试用例文件，AI智能体将为您提供专业的评审意见</p>\n        </div>\n      </template>\n\n      <!-- 功能描述 -->\n      <div class=\"feature-description\">\n        <el-alert\n          title=\"用例评审功能\"\n          type=\"info\"\n          description=\"支持上传各种格式的测试用例文件，AI将从用例完整性、覆盖度、可执行性等多个维度进行专业评审，并提供改进建议。\"\n          show-icon\n          :closable=\"false\"\n        />\n      </div>\n\n      <!-- AI服务选择 -->\n      <div class=\"api-selection\">\n        <h3>选择AI服务</h3>\n        <el-radio-group v-model=\"selectedApi\" class=\"api-radio-group\">\n          <el-radio-button label=\"cybotstar\">Cybotstar AI</el-radio-button>\n          <el-radio-button label=\"deepseek\">DeepSeek AI</el-radio-button>\n        </el-radio-group>\n        <div class=\"api-description\">\n          <span v-if=\"selectedApi === 'cybotstar'\" class=\"api-desc\">\n            <el-icon><Star /></el-icon> 使用Cybotstar AI进行用例评审，专业的测试用例分析能力\n          </span>\n          <span v-if=\"selectedApi === 'deepseek'\" class=\"api-desc\">\n            <el-icon><Cpu /></el-icon> 使用DeepSeek AI进行用例评审，强大的逻辑分析和建议能力\n          </span>\n        </div>\n      </div>\n\n      <!-- 文件上传区域 -->\n      <div class=\"upload-section\">\n        <h3>上传测试用例文件</h3>\n        <div class=\"upload-tip\">\n          <p>支持多种格式的测试用例文件，包括Excel、XMind、Word、文本等格式</p>\n        </div>\n        \n        <el-upload\n          ref=\"uploadRef\"\n          class=\"upload-demo\"\n          drag\n          :auto-upload=\"false\"\n          :on-change=\"handleFileChange\"\n          :on-remove=\"handleFileRemove\"\n          :file-list=\"fileList\"\n          accept=\".txt,.md,.docx,.doc,.pdf,.xlsx,.xls,.xmind,.json,.xml,.csv\"\n          :limit=\"1\"\n        >\n          <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\n          <div class=\"el-upload__text\">\n            将测试用例文件拖到此处，或<em>点击上传</em>\n          </div>\n          <div class=\"el-upload__tip\">\n            支持 .txt, .md, .docx, .doc, .pdf, .xlsx, .xls, .xmind, .json, .xml, .csv 格式\n          </div>\n        </el-upload>\n      </div>\n\n      <!-- 评审配置 -->\n      <div class=\"review-config\" v-if=\"fileList.length > 0\">\n        <h3>评审配置</h3>\n        <el-form :model=\"reviewForm\" label-width=\"120px\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"评审维度\">\n                <el-checkbox-group v-model=\"reviewForm.dimensions\">\n                  <el-checkbox label=\"completeness\">完整性</el-checkbox>\n                  <el-checkbox label=\"coverage\">覆盖度</el-checkbox>\n                  <el-checkbox label=\"executability\">可执行性</el-checkbox>\n                  <el-checkbox label=\"clarity\">清晰度</el-checkbox>\n                </el-checkbox-group>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"评审深度\">\n                <el-radio-group v-model=\"reviewForm.depth\">\n                  <el-radio label=\"basic\">基础评审</el-radio>\n                  <el-radio label=\"detailed\">详细评审</el-radio>\n                  <el-radio label=\"comprehensive\">全面评审</el-radio>\n                </el-radio-group>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-form-item label=\"特殊要求\">\n            <el-input\n              v-model=\"reviewForm.requirements\"\n              type=\"textarea\"\n              :rows=\"3\"\n              placeholder=\"请输入特殊的评审要求或关注点（可选）\"\n            />\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <!-- 开始评审按钮 -->\n      <div class=\"action-section\" v-if=\"fileList.length > 0\">\n        <el-button\n          type=\"primary\"\n          size=\"large\"\n          :loading=\"loading\"\n          @click=\"startReview\"\n          class=\"review-btn\"\n        >\n          <el-icon v-if=\"!loading\"><Search /></el-icon>\n          {{ loading ? '评审中...' : '开始评审' }}\n        </el-button>\n      </div>\n\n      <!-- 评审进度 -->\n      <el-card v-if=\"showProgress\" class=\"progress-card\" shadow=\"hover\">\n        <template #header>\n          <div class=\"card-header\">\n            <h3>评审进度</h3>\n          </div>\n        </template>\n        <div class=\"progress-content\">\n          <el-progress :percentage=\"progress\" :status=\"progressStatus\" />\n          <p class=\"progress-text\">{{ progressText }}</p>\n        </div>\n      </el-card>\n\n      <!-- 评审结果 -->\n      <el-card v-if=\"reviewResult\" class=\"result-card\" shadow=\"hover\">\n        <template #header>\n          <div class=\"card-header\">\n            <h3>评审结果</h3>\n            <div class=\"header-actions\">\n              <el-button\n                type=\"success\"\n                size=\"small\"\n                @click=\"downloadResult\"\n                :disabled=\"!downloadUrl\"\n              >\n                <el-icon><Download /></el-icon>\n                下载报告\n              </el-button>\n              <el-button\n                type=\"primary\"\n                size=\"small\"\n                @click=\"copyToClipboard\"\n              >\n                <el-icon><CopyDocument /></el-icon>\n                复制结果\n              </el-button>\n            </div>\n          </div>\n        </template>\n        \n        <div class=\"result-content\">\n          <el-tabs v-model=\"activeTab\" type=\"border-card\">\n            <el-tab-pane label=\"评审总结\" name=\"summary\">\n              <div class=\"review-summary\">\n                <el-descriptions :column=\"2\" border>\n                  <el-descriptions-item label=\"总体评分\">\n                    <el-rate v-model=\"reviewResult.overallScore\" disabled show-score />\n                  </el-descriptions-item>\n                  <el-descriptions-item label=\"评审时间\">\n                    {{ formatTime(reviewResult.reviewTime) }}\n                  </el-descriptions-item>\n                  <el-descriptions-item label=\"用例总数\">\n                    {{ reviewResult.totalCases || 'N/A' }}\n                  </el-descriptions-item>\n                  <el-descriptions-item label=\"问题数量\">\n                    <el-tag :type=\"getIssueTagType(reviewResult.issueCount)\">{{ reviewResult.issueCount || 0 }}</el-tag>\n                  </el-descriptions-item>\n                </el-descriptions>\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"详细评审\" name=\"detailed\">\n              <div class=\"review-content\" v-html=\"formatReviewContent(reviewResult.content)\"></div>\n            </el-tab-pane>\n            <el-tab-pane label=\"改进建议\" name=\"suggestions\">\n              <div class=\"suggestions-content\" v-html=\"formatSuggestions(reviewResult.suggestions)\"></div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </el-card>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { Document, Star, Cpu, UploadFilled, Search, Download, CopyDocument } from '@element-plus/icons-vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'TestCaseReview',\n  components: {\n    Document,\n    Star,\n    Cpu,\n    UploadFilled,\n    Search,\n    Download,\n    CopyDocument\n  },\n  setup() {\n    const selectedApi = ref('cybotstar')\n    const fileList = ref([])\n    const loading = ref(false)\n    const showProgress = ref(false)\n    const progress = ref(0)\n    const progressStatus = ref('')\n    const progressText = ref('')\n    const reviewResult = ref(null)\n    const downloadUrl = ref('')\n    const activeTab = ref('summary')\n    \n    const reviewForm = reactive({\n      dimensions: ['completeness', 'coverage', 'executability', 'clarity'],\n      depth: 'detailed',\n      requirements: ''\n    })\n\n    const uploadRef = ref(null)\n\n    // 处理文件变化\n    const handleFileChange = (file) => {\n      fileList.value = [file]\n    }\n\n    // 处理文件移除\n    const handleFileRemove = () => {\n      fileList.value = []\n    }\n\n    // 开始评审\n    const startReview = async () => {\n      if (fileList.value.length === 0) {\n        ElMessage.warning('请先上传测试用例文件')\n        return\n      }\n\n      loading.value = true\n      showProgress.value = true\n      progress.value = 0\n      progressStatus.value = 'active'\n      progressText.value = '正在上传文件...'\n\n      try {\n        const formData = new FormData()\n        formData.append('file', fileList.value[0].raw)\n        formData.append('apiProvider', selectedApi.value)\n        formData.append('dimensions', JSON.stringify(reviewForm.dimensions))\n        formData.append('depth', reviewForm.depth)\n        formData.append('requirements', reviewForm.requirements)\n\n        // 模拟进度更新\n        const progressInterval = setInterval(() => {\n          if (progress.value < 90) {\n            progress.value += 10\n            if (progress.value === 30) {\n              progressText.value = '正在解析文件内容...'\n            } else if (progress.value === 60) {\n              progressText.value = '正在进行AI评审...'\n            } else if (progress.value === 90) {\n              progressText.value = '正在生成评审报告...'\n            }\n          }\n        }, 500)\n\n        const response = await axios.post('/api/review-test-cases', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n\n        clearInterval(progressInterval)\n        progress.value = 100\n        progressStatus.value = 'success'\n        progressText.value = '评审完成！'\n\n        if (response.data.success) {\n          reviewResult.value = {\n            content: response.data.content,\n            overallScore: response.data.overallScore || 4,\n            reviewTime: new Date(),\n            totalCases: response.data.totalCases,\n            issueCount: response.data.issueCount,\n            suggestions: response.data.suggestions\n          }\n          downloadUrl.value = response.data.downloadUrl\n          ElMessage.success('用例评审完成')\n        } else {\n          throw new Error(response.data.error || '评审失败')\n        }\n      } catch (error) {\n        console.error('评审失败:', error)\n        progress.value = 100\n        progressStatus.value = 'exception'\n        progressText.value = '评审失败'\n        ElMessage.error(error.message || '评审失败，请稍后重试')\n        \n        // 模拟评审结果\n        reviewResult.value = {\n          content: '# 测试用例评审报告\\n\\n## 总体评价\\n\\n本次评审的测试用例整体质量良好，但仍有改进空间。\\n\\n## 详细分析\\n\\n### 1. 完整性分析\\n- ✅ 测试用例覆盖了主要功能点\\n- ⚠️ 部分边界条件测试用例缺失\\n- ❌ 异常处理测试用例不够充分\\n\\n### 2. 可执行性分析\\n- ✅ 测试步骤描述清晰\\n- ✅ 预期结果明确\\n- ⚠️ 部分前置条件描述不够详细\\n\\n### 3. 覆盖度分析\\n- ✅ 功能覆盖度: 85%\\n- ⚠️ 边界值覆盖度: 60%\\n- ❌ 异常场景覆盖度: 40%\\n\\n*注意：由于网络问题，当前显示模拟评审结果。*',\n          overallScore: 3.5,\n          reviewTime: new Date(),\n          totalCases: 25,\n          issueCount: 8,\n          suggestions: '## 改进建议\\n\\n1. **增加边界值测试**\\n   - 建议添加最大值、最小值、临界值的测试用例\\n   - 特别关注数值型输入的边界情况\\n\\n2. **完善异常处理测试**\\n   - 增加非法输入的测试用例\\n   - 添加系统异常情况的处理验证\\n\\n3. **优化测试步骤描述**\\n   - 使测试步骤更加具体和可操作\\n   - 明确每个步骤的预期结果\\n\\n4. **补充前置条件**\\n   - 详细描述测试环境要求\\n   - 明确测试数据准备步骤'\n        }\n      } finally {\n        loading.value = false\n        setTimeout(() => {\n          showProgress.value = false\n        }, 2000)\n      }\n    }\n\n    // 下载结果\n    const downloadResult = () => {\n      if (downloadUrl.value) {\n        window.open(downloadUrl.value, '_blank')\n      } else {\n        ElMessage.warning('暂无可下载的文件')\n      }\n    }\n\n    // 复制到剪贴板\n    const copyToClipboard = async () => {\n      if (!reviewResult.value) return\n      \n      try {\n        const content = reviewResult.value.content + '\\n\\n' + reviewResult.value.suggestions\n        await navigator.clipboard.writeText(content)\n        ElMessage.success('评审结果已复制到剪贴板')\n      } catch (error) {\n        ElMessage.error('复制失败，请手动复制')\n      }\n    }\n\n    // 格式化时间\n    const formatTime = (time) => {\n      if (!time) return 'N/A'\n      return new Date(time).toLocaleString('zh-CN')\n    }\n\n    // 格式化评审内容\n    const formatReviewContent = (content) => {\n      if (!content) return ''\n      return content.replace(/\\n/g, '<br>').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    }\n\n    // 格式化建议内容\n    const formatSuggestions = (suggestions) => {\n      if (!suggestions) return ''\n      return suggestions.replace(/\\n/g, '<br>').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    }\n\n    // 获取问题标签类型\n    const getIssueTagType = (count) => {\n      if (count === 0) return 'success'\n      if (count <= 5) return 'warning'\n      return 'danger'\n    }\n\n    return {\n      selectedApi,\n      fileList,\n      loading,\n      showProgress,\n      progress,\n      progressStatus,\n      progressText,\n      reviewResult,\n      downloadUrl,\n      activeTab,\n      reviewForm,\n      uploadRef,\n      handleFileChange,\n      handleFileRemove,\n      startReview,\n      downloadResult,\n      copyToClipboard,\n      formatTime,\n      formatReviewContent,\n      formatSuggestions,\n      getIssueTagType\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-case-review {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.main-card {\n  margin-bottom: 20px;\n}\n\n.card-header {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.card-header h2 {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #303133;\n}\n\n.card-subtitle {\n  margin: 0;\n  color: #909399;\n  font-size: 14px;\n}\n\n.feature-description {\n  margin-bottom: 24px;\n}\n\n.api-selection {\n  margin-bottom: 24px;\n}\n\n.api-selection h3 {\n  margin: 0 0 12px 0;\n  color: #303133;\n}\n\n.api-radio-group {\n  margin-bottom: 12px;\n}\n\n.api-description {\n  color: #606266;\n  font-size: 14px;\n}\n\n.api-desc {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.upload-section {\n  margin-bottom: 24px;\n}\n\n.upload-section h3 {\n  margin: 0 0 12px 0;\n  color: #303133;\n}\n\n.upload-tip {\n  margin-bottom: 16px;\n  color: #606266;\n  font-size: 14px;\n}\n\n.upload-demo {\n  width: 100%;\n}\n\n.review-config {\n  margin-bottom: 24px;\n  padding: 20px;\n  background: #f8f9fa;\n  border-radius: 8px;\n}\n\n.review-config h3 {\n  margin: 0 0 16px 0;\n  color: #303133;\n}\n\n.action-section {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.review-btn {\n  padding: 12px 32px;\n  font-size: 16px;\n}\n\n.progress-card {\n  margin-bottom: 24px;\n}\n\n.progress-content {\n  text-align: center;\n}\n\n.progress-text {\n  margin-top: 12px;\n  color: #606266;\n  font-size: 14px;\n}\n\n.result-card {\n  margin-bottom: 24px;\n}\n\n.header-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.result-content {\n  margin-top: 16px;\n}\n\n.review-summary {\n  margin-bottom: 16px;\n}\n\n.review-content,\n.suggestions-content {\n  padding: 16px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  line-height: 1.6;\n  white-space: pre-wrap;\n}\n\n.review-content :deep(strong),\n.suggestions-content :deep(strong) {\n  color: #409eff;\n  font-weight: 600;\n}\n\n@media (max-width: 768px) {\n  .test-case-review {\n    padding: 12px;\n  }\n  \n  .card-header {\n    text-align: center;\n  }\n  \n  .header-actions {\n    flex-direction: column;\n  }\n}\n</style>","import { render } from \"./TestCaseReview.vue?vue&type=template&id=4e9b8642&scoped=true\"\nimport script from \"./TestCaseReview.vue?vue&type=script&lang=js\"\nexport * from \"./TestCaseReview.vue?vue&type=script&lang=js\"\n\nimport \"./TestCaseReview.vue?vue&type=style&index=0&id=4e9b8642&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e9b8642\"]])\n\nexport default __exports__"],"names":["class","shadow","header","title","type","description","closable","selectedApi","label","ref","drag","handleFileChange","handleFileRemove","fileList","accept","limit","length","model","reviewForm","gutter","span","dimensions","depth","requirements","rows","placeholder","size","loading","startReview","percentage","progress","status","progressStatus","progressText","downloadResult","disabled","downloadUrl","copyToClipboard","activeTab","name","column","border","reviewResult","overallScore","formatTime","reviewTime","totalCases","getIssueTagType","issueCount","formatReviewContent","content","formatSuggestions","suggestions","components","Document","Star","Cpu","UploadFilled","Search","Download","CopyDocument","setup","showProgress","uploadRef","file","value","async","formData","FormData","append","raw","JSON","stringify","progressInterval","setInterval","response","axios","post","headers","clearInterval","data","success","Error","error","Date","console","message","setTimeout","warning","window","open","navigator","clipboard","writeText","time","toLocaleString","replace","count","__exports__","render"],"sourceRoot":""}