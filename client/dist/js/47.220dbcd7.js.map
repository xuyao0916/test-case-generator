{"version":3,"file":"js/47.220dbcd7.js","mappings":"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","sources":["webpack://test-case-generator-client/./src/views/WssTest.vue","webpack://test-case-generator-client/./src/views/WssTest.vue?99e8"],"sourcesContent":["<template>\n  <div class=\"wss-test-container\">\n    <el-card class=\"header-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>WSS接口测试</span>\n          <el-button \n            type=\"primary\" \n            :loading=\"batchTesting\" \n            @click=\"testAllInterfaces\"\n            :disabled=\"wssConfigs.length === 0\"\n          >\n            {{ batchTesting ? '测试中...' : '测试所有接口' }}\n          </el-button>\n        </div>\n      </template>\n      \n      <div class=\"batch-status\" v-if=\"batchTesting || batchTestResults.length > 0\">\n        <el-progress \n          v-if=\"batchTesting\"\n          :percentage=\"batchProgress\" \n          :format=\"formatProgress\"\n        />\n        <div v-if=\"batchTestResults.length > 0\" class=\"batch-summary\">\n          <el-tag type=\"success\">成功: {{ batchTestResults.filter(r => r.success).length }}</el-tag>\n          <el-tag type=\"danger\">失败: {{ batchTestResults.filter(r => !r.success).length }}</el-tag>\n          <el-tag type=\"info\">总计: {{ batchTestResults.length }}</el-tag>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- WSS接口配置列表 -->\n    <div class=\"interface-list\">\n      <el-card \n        v-for=\"(config, index) in wssConfigs\" \n        :key=\"index\" \n        class=\"interface-card\"\n        :class=\"{ 'testing': config.testing, 'connected': config.connected }\"\n      >\n        <template #header>\n          <div class=\"interface-header\">\n            <div class=\"interface-info\">\n              <h3>{{ config.name }}</h3>\n              <el-tag :type=\"getStatusType(config.status)\" size=\"small\">\n                {{ config.status }}\n              </el-tag>\n            </div>\n            <div class=\"interface-actions\">\n              <el-button \n                size=\"small\" \n                :type=\"config.connected ? 'danger' : 'primary'\"\n                :loading=\"config.connecting\"\n                @click=\"toggleConnection(index)\"\n              >\n                {{ config.connected ? '断开' : '连接' }}\n              </el-button>\n              <el-button \n                size=\"small\" \n                type=\"success\"\n                :loading=\"config.testing\"\n                :disabled=\"!config.connected\"\n                @click=\"testSingleInterface(index)\"\n              >\n                {{ config.testing ? '测试中' : '测试' }}\n              </el-button>\n            </div>\n          </div>\n        </template>\n\n        <div class=\"interface-content\">\n          <div class=\"config-info\">\n            <div class=\"url-info\">\n              <strong>连接地址:</strong> {{ config.url }}\n            </div>\n            <div class=\"params-info\">\n              <strong>测试参数:</strong>\n              <pre>{{ JSON.stringify(config.testParams, null, 2) }}</pre>\n            </div>\n          </div>\n\n          <!-- 消息列表 -->\n          <div class=\"messages-section\" v-if=\"config.messages && config.messages.length > 0\">\n            <h4>消息记录 ({{ config.messages.length }})</h4>\n            <div class=\"messages-container\">\n              <div \n                v-for=\"(message, msgIndex) in config.messages\" \n                :key=\"msgIndex\"\n                class=\"message-item\"\n                :class=\"message.type\"\n              >\n                <div class=\"message-header\">\n                  <span class=\"message-type\">{{ getMessageTypeText(message.type) }}</span>\n                  <span class=\"message-time\">{{ formatTime(message.timestamp) }}</span>\n                  <el-tag \n                    v-if=\"message.testResult\" \n                    :type=\"message.testResult.success ? 'success' : 'danger'\"\n                    size=\"small\"\n                  >\n                    {{ message.testResult.success ? '成功' : '失败' }}\n                  </el-tag>\n                </div>\n                <div class=\"message-content\">{{ message.content }}</div>\n                <div v-if=\"message.testResult && message.testResult.note\" class=\"message-note\">\n                  {{ message.testResult.note }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-card>\n    </div>\n\n    <!-- 添加新接口配置 -->\n    <el-card class=\"add-interface-card\">\n      <template #header>\n        <span>添加新的WSS接口</span>\n      </template>\n      \n      <el-form :model=\"newInterfaceForm\" label-width=\"120px\">\n        <el-form-item label=\"接口名称\">\n          <el-input v-model=\"newInterfaceForm.name\" placeholder=\"请输入接口名称\" />\n        </el-form-item>\n        <el-form-item label=\"WSS地址\">\n          <el-input v-model=\"newInterfaceForm.url\" placeholder=\"wss://example.com/ws\" />\n        </el-form-item>\n        <el-form-item label=\"测试参数\">\n          <el-input \n            v-model=\"newInterfaceForm.params\" \n            type=\"textarea\" \n            :rows=\"6\"\n            placeholder='{\"key\": \"value\"}'\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"addNewInterface\">添加接口</el-button>\n          <el-button @click=\"resetForm\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'WssTest',\n  data() {\n    return {\n      // 批量测试状态\n      batchTesting: false,\n      batchProgress: 0,\n      batchTestResults: [],\n      \n      // WSS接口配置列表\n      wssConfigs: [\n        {\n          name: 'CybotStar多轮对话测试',\n          url: 'wss://www.cybotstar.cn/openapi/v2/ws/dialog/',\n          testParams: {\n            'cybertron-robot-token': 'MTc1MjE1NTEzMjU1Nwp0ejl3K1ZYY2F2MkZrUkVHTGsyRGZhZUltOEU9',\n            'cybertron-robot-key': 's%2B6v1Kd9jdVoa79rHsgOLKTy0qE%3D',\n            username: 'yao.xu@brgroup.com',\n            question: '你帮我写一个10句诗词'\n          },\n          \n          // 运行时状态\n          connected: false,\n          connecting: false,\n          testing: false,\n          status: '未连接',\n          websocket: null,\n          messages: []\n        },\n        {\n          name: '轻量接口',\n          url: 'wss://www.cybotstar.cn/openapi/ws/lightweight/dialog/',\n          testParams: {\n            'cybertron-robot-token': 'MTc1MjE1NTEzMjU1Nwp0ejl3K1ZYY2F2MkZrUkVHTGsyRGZhZUltOEU9',\n            'cybertron-robot-key': 's%2B6v1Kd9jdVoa79rHsgOLKTy0qE%3D',\n            username: 'yao.xu@brgroup.com',\n            question: '你帮我写一个10句诗词'\n          },\n          \n          // 运行时状态\n          connected: false,\n          connecting: false,\n          testing: false,\n          status: '未连接',\n          websocket: null,\n          messages: []\n        },\n        {\n          name: 'bate接口',\n          url: 'wss://www.cybotstar.cn/openapi/ws/agent-dialog/lightweight-beta/dialog/',\n          testParams: {\n            'cybertron-robot-token': 'MTc1MjE1NTEzMjU1Nwp0ejl3K1ZYY2F2MkZrUkVHTGsyRGZhZUltOEU9',\n            'cybertron-robot-key': 's%2B6v1Kd9jdVoa79rHsgOLKTy0qE%3D',\n            username: 'yao.xu@brgroup.com',\n            question: '你帮我写一个10句诗词'\n          },\n          \n          // 运行时状态\n          connected: false,\n          connecting: false,\n          testing: false,\n          status: '未连接',\n          websocket: null,\n          messages: []\n          \n        }\n      ],\n      \n      // 添加新接口表单\n      newInterfaceForm: {\n        name: '',\n        url: '',\n        params: ''\n      }\n    }\n  },\n  methods: {\n    // 测试所有接口\n    async testAllInterfaces() {\n      if (this.wssConfigs.length === 0) {\n        ElMessage.warning('没有可测试的接口')\n        return\n      }\n\n      this.batchTesting = true\n      this.batchProgress = 0\n      this.batchTestResults = []\n\n      try {\n        for (let i = 0; i < this.wssConfigs.length; i++) {\n          const config = this.wssConfigs[i]\n          this.batchProgress = Math.round((i / this.wssConfigs.length) * 100)\n          \n          try {\n            // 如果未连接，先连接\n            if (!config.connected) {\n              await this.connectInterface(i)\n              await this.sleep(1000) // 等待连接稳定\n            }\n            \n            // 执行测试\n            if (config.connected) {\n              await this.testSingleInterface(i)\n              this.batchTestResults.push({ \n                name: config.name, \n                success: true, \n                message: '测试完成' \n              })\n            } else {\n              this.batchTestResults.push({ \n                name: config.name, \n                success: false, \n                message: '连接失败' \n              })\n            }\n          } catch (error) {\n            this.batchTestResults.push({ \n              name: config.name, \n              success: false, \n              message: error.message \n            })\n          }\n          \n          await this.sleep(500) // 接口间隔\n        }\n        \n        this.batchProgress = 100\n        ElMessage.success(`批量测试完成！成功: ${this.batchTestResults.filter(r => r.success).length}, 失败: ${this.batchTestResults.filter(r => !r.success).length}`)\n        \n        // 测试完成后断开所有连接\n        await this.disconnectAllInterfaces()\n      } catch (error) {\n        ElMessage.error(`批量测试失败: ${error.message}`)\n      } finally {\n        this.batchTesting = false\n      }\n    },\n\n    // 切换连接状态\n    async toggleConnection(index) {\n      const config = this.wssConfigs[index]\n      if (config.connected) {\n        this.disconnectInterface(index)\n      } else {\n        await this.connectInterface(index)\n      }\n    },\n\n    // 连接接口\n    async connectInterface(index) {\n      const config = this.wssConfigs[index]\n      \n      if (config.connecting || config.connected) {\n        return\n      }\n\n      config.connecting = true\n      config.status = '连接中...'\n\n      try {\n        const websocket = new WebSocket(config.url)\n        \n        return new Promise((resolve, reject) => {\n          const timeout = setTimeout(() => {\n            websocket.close()\n            reject(new Error('连接超时'))\n          }, 10000)\n\n          websocket.onopen = () => {\n            clearTimeout(timeout)\n            config.connected = true\n            config.connecting = false\n            config.status = '已连接'\n            config.websocket = websocket\n            \n            this.addMessage(index, {\n              type: 'system',\n              content: 'WebSocket连接成功',\n              timestamp: new Date(),\n              testResult: { success: true, note: '连接建立成功' }\n            })\n            \n            ElMessage.success(`${config.name} 连接成功`)\n            resolve()\n          }\n\n          websocket.onmessage = (event) => {\n            this.addMessage(index, {\n              type: 'received',\n              content: event.data,\n              timestamp: new Date(),\n              testResult: { success: true, note: '接收消息成功' }\n            })\n          }\n\n          websocket.onerror = (error) => {\n            clearTimeout(timeout)\n            config.connecting = false\n            config.status = '连接失败'\n            \n            this.addMessage(index, {\n              type: 'error',\n              content: `连接错误: ${error.message || '未知错误'}`,\n              timestamp: new Date(),\n              testResult: { success: false, note: '连接建立失败' }\n            })\n            \n            reject(error)\n          }\n\n          websocket.onclose = (event) => {\n            clearTimeout(timeout)\n            config.connected = false\n            config.connecting = false\n            config.status = '已断开'\n            config.websocket = null\n            \n            this.addMessage(index, {\n              type: 'system',\n              content: `连接关闭 (代码: ${event.code})`,\n              timestamp: new Date(),\n              testResult: { success: event.code === 1000, note: event.code === 1000 ? '正常关闭连接' : '异常关闭连接' }\n            })\n          }\n        })\n      } catch (error) {\n        config.connecting = false\n        config.status = '连接失败'\n        ElMessage.error(`${config.name} 连接失败: ${error.message}`)\n        \n        this.addMessage(index, {\n          type: 'error',\n          content: `连接失败: ${error.message}`,\n          timestamp: new Date(),\n          testResult: { success: false, note: '连接建立失败' }\n        })\n        \n        throw error\n      }\n    },\n\n    // 断开连接\n    disconnectInterface(index) {\n      const config = this.wssConfigs[index]\n      \n      if (config.websocket) {\n        config.websocket.close()\n        config.websocket = null\n      }\n      \n      config.connected = false\n      config.status = '已断开'\n      ElMessage.info(`${config.name} 已断开连接`)\n    },\n\n    // 断开所有连接\n    async disconnectAllInterfaces() {\n      let disconnectedCount = 0\n      \n      for (let i = 0; i < this.wssConfigs.length; i++) {\n        const config = this.wssConfigs[i]\n        if (config.connected) {\n          this.disconnectInterface(i)\n          disconnectedCount++\n          await this.sleep(200) // 短暂延迟，避免同时断开太多连接\n        }\n      }\n      \n      if (disconnectedCount > 0) {\n        ElMessage.info(`已断开 ${disconnectedCount} 个WSS连接`)\n      }\n    },\n\n    // 测试单个接口\n    async testSingleInterface(index) {\n      const config = this.wssConfigs[index]\n      \n      if (!config.connected || !config.websocket) {\n        ElMessage.warning('请先连接接口')\n        return\n      }\n\n      config.testing = true\n\n      try {\n        const messageContent = JSON.stringify(config.testParams)\n        config.websocket.send(messageContent)\n        \n        this.addMessage(index, {\n          type: 'sent',\n          content: messageContent,\n          timestamp: new Date(),\n          testResult: { success: true, note: '消息发送成功' }\n        })\n        \n        ElMessage.success(`${config.name} 测试消息发送成功`)\n        \n        // 等待响应\n        await this.sleep(2000)\n      } catch (error) {\n        ElMessage.error(`${config.name} 测试失败: ${error.message}`)\n        \n        this.addMessage(index, {\n          type: 'error',\n          content: `测试失败: ${error.message}`,\n          timestamp: new Date(),\n          testResult: { success: false, note: '消息发送失败' }\n        })\n        \n        throw error\n      } finally {\n        config.testing = false\n      }\n    },\n\n    // 添加消息到指定接口\n    addMessage(index, message) {\n      if (!this.wssConfigs[index].messages) {\n        this.$set(this.wssConfigs[index], 'messages', [])\n      }\n      this.wssConfigs[index].messages.unshift(message)\n      \n      // 限制消息数量\n      if (this.wssConfigs[index].messages.length > 100) {\n        this.wssConfigs[index].messages = this.wssConfigs[index].messages.slice(0, 100)\n      }\n    },\n\n    // 添加新接口\n    addNewInterface() {\n      if (!this.newInterfaceForm.name || !this.newInterfaceForm.url) {\n        ElMessage.warning('请填写接口名称和地址')\n        return\n      }\n\n      let testParams = {}\n      if (this.newInterfaceForm.params) {\n        try {\n          testParams = JSON.parse(this.newInterfaceForm.params)\n        } catch (error) {\n          ElMessage.error('测试参数格式错误，请输入有效的JSON')\n          return\n        }\n      }\n\n      this.wssConfigs.push({\n        name: this.newInterfaceForm.name,\n        url: this.newInterfaceForm.url,\n        testParams: testParams,\n        connected: false,\n        connecting: false,\n        testing: false,\n        status: '未连接',\n        websocket: null,\n        messages: []\n      })\n\n      ElMessage.success('接口添加成功')\n      this.resetForm()\n    },\n\n    // 重置表单\n    resetForm() {\n      this.newInterfaceForm = {\n        name: '',\n        url: '',\n        params: ''\n      }\n    },\n\n    // 工具方法\n    sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms))\n    },\n\n    getStatusType(status) {\n      const statusMap = {\n        未连接: 'info',\n        '连接中...': 'warning',\n        已连接: 'success',\n        连接失败: 'danger',\n        已断开: 'info'\n      }\n      return statusMap[status] || 'info'\n    },\n\n    getMessageTypeText(type) {\n      const typeMap = {\n        sent: '发送',\n        received: '接收',\n        error: '错误',\n        system: '系统'\n      }\n      return typeMap[type] || type\n    },\n\n    formatTime(timestamp) {\n      return new Date(timestamp).toLocaleTimeString()\n    },\n\n    formatProgress(percentage) {\n      return `${percentage}%`\n    }\n  },\n\n  beforeUnmount() {\n    // 组件销毁前关闭所有连接\n    this.wssConfigs.forEach((config, index) => {\n      if (config.connected) {\n        this.disconnectInterface(index)\n      }\n    })\n  }\n}\n</script>\n\n<style scoped>\n.wss-test-container {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.header-card {\n  margin-bottom: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.batch-status {\n  margin-top: 15px;\n}\n\n.batch-summary {\n  margin-top: 10px;\n  display: flex;\n  gap: 10px;\n}\n\n.interface-list {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.interface-card {\n  transition: all 0.3s ease;\n}\n\n.interface-card.testing {\n  border-color: #409eff;\n  box-shadow: 0 0 10px rgba(64, 158, 255, 0.3);\n}\n\n.interface-card.connected {\n  border-color: #67c23a;\n}\n\n.interface-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.interface-info h3 {\n  margin: 0 0 5px 0;\n  color: #303133;\n}\n\n.interface-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.interface-content {\n  margin-top: 15px;\n}\n\n.config-info {\n  background: #f5f7fa;\n  padding: 15px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.url-info, .params-info {\n  margin-bottom: 10px;\n}\n\n.params-info pre {\n  background: #fff;\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #dcdfe6;\n  margin: 5px 0 0 0;\n  font-size: 12px;\n  overflow-x: auto;\n}\n\n.messages-section h4 {\n  color: #606266;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #ebeef5;\n  padding-bottom: 8px;\n}\n\n.messages-container {\n  max-height: 400px;\n  overflow-y: auto;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n}\n\n.message-item {\n  padding: 12px;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.message-item:last-child {\n  border-bottom: none;\n}\n\n.message-item.sent {\n  background-color: #f0f9ff;\n}\n\n.message-item.received {\n  background-color: #f0f9f0;\n}\n\n.message-item.error {\n  background-color: #fef0f0;\n}\n\n.message-item.system {\n  background-color: #fafafa;\n}\n\n.message-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  font-size: 12px;\n  color: #909399;\n}\n\n.message-content {\n  font-family: 'Courier New', monospace;\n  background: rgba(0, 0, 0, 0.05);\n  padding: 8px;\n  border-radius: 4px;\n  word-break: break-all;\n  font-size: 13px;\n}\n\n.message-note {\n  margin-top: 5px;\n  font-size: 12px;\n  color: #909399;\n  font-style: italic;\n}\n\n.add-interface-card {\n  margin-top: 30px;\n}\n\n@media (max-width: 768px) {\n  .wss-test-container {\n    padding: 10px;\n  }\n  \n  .interface-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n  \n  .interface-actions {\n    width: 100%;\n    justify-content: flex-end;\n  }\n}\n</style>","import { render } from \"./WssTest.vue?vue&type=template&id=04ad7677&scoped=true\"\nimport script from \"./WssTest.vue?vue&type=script&lang=js\"\nexport * from \"./WssTest.vue?vue&type=script&lang=js\"\n\nimport \"./WssTest.vue?vue&type=style&index=0&id=04ad7677&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04ad7677\"]])\n\nexport default __exports__"],"names":["class","header","type","loading","batchTesting","testAllInterfaces","disabled","wssConfigs","length","batchTestResults","percentage","batchProgress","format","formatProgress","filter","r","success","config","index","key","testing","connected","name","getStatusType","status","size","connecting","toggleConnection","testSingleInterface","url","JSON","stringify","testParams","messages","message","msgIndex","getMessageTypeText","formatTime","timestamp","testResult","content","note","model","newInterfaceForm","label","placeholder","params","rows","addNewInterface","resetForm","data","username","question","websocket","methods","this","i","Math","round","connectInterface","sleep","push","error","disconnectAllInterfaces","warning","disconnectInterface","WebSocket","Promise","resolve","reject","timeout","setTimeout","close","Error","onopen","clearTimeout","addMessage","Date","onmessage","event","onerror","onclose","code","info","disconnectedCount","messageContent","send","$set","unshift","slice","parse","ms","statusMap","typeMap","sent","received","system","toLocaleTimeString","beforeUnmount","forEach","__exports__","render"],"sourceRoot":""}