"use strict";(self["webpackChunktest_case_generator_client"]=self["webpackChunktest_case_generator_client"]||[]).push([[794],{5794:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var i=e(641),o=e(33);const a={class:"history"},n={class:"card-header"},r={class:"history-content"},l={key:1,class:"history-list"},d={class:"history-item-content"},c={class:"history-info"},h={class:"history-title"},u={class:"history-time"},y={class:"history-desc"},k={class:"history-actions"};function g(t,s,e,g,m,_){const p=(0,i.g2)("Clock"),v=(0,i.g2)("el-icon"),f=(0,i.g2)("el-empty"),w=(0,i.g2)("Download"),L=(0,i.g2)("el-button"),C=(0,i.g2)("el-card");return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(C,{class:"main-card",shadow:"hover"},{header:(0,i.k6)(()=>[(0,i.Lk)("div",n,[s[0]||(s[0]=(0,i.Lk)("span",null,"生成记录",-1)),(0,i.bF)(v,null,{default:(0,i.k6)(()=>[(0,i.bF)(p)]),_:1})])]),default:(0,i.k6)(()=>[(0,i.Lk)("div",r,[0===m.historyList.length?((0,i.uX)(),(0,i.Wv)(f,{key:0,description:"暂无生成记录"})):((0,i.uX)(),(0,i.CE)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.historyList,(t,e)=>((0,i.uX)(),(0,i.Wv)(C,{key:e,class:"history-item",shadow:"hover"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",d,[(0,i.Lk)("div",c,[(0,i.Lk)("h3",h,(0,o.v_)(t.title),1),(0,i.Lk)("p",u,(0,o.v_)(_.formatTime(t.createTime)),1),(0,i.Lk)("p",y,(0,o.v_)(t.description),1)]),(0,i.Lk)("div",k,[(0,i.bF)(L,{type:"primary",size:"small",onClick:s=>_.downloadFile(t.downloadUrl)},{default:(0,i.k6)(()=>[(0,i.bF)(v,null,{default:(0,i.k6)(()=>[(0,i.bF)(w)]),_:1}),s[1]||(s[1]=(0,i.eW)(" 下载XMind ",-1))]),_:2,__:[1]},1032,["onClick"])])])]),_:2},1024))),128))]))])]),_:1})])}var m=e(8548),_=e(4335),p={name:"History",components:{Clock:m.Clock,Download:m.Download},data(){return{historyList:[],loading:!1}},mounted(){this.loadHistory()},methods:{async loadHistory(){this.loading=!0;try{const t=await _.A.get("/api/history");this.historyList=t.data.data||[],0===this.historyList.length&&console.log("暂无历史记录")}catch(t){console.error("加载历史记录失败:",t),this.historyList=[],"ECONNREFUSED"===t.code||"ERR_NETWORK"===t.code?this.$message.warning("无法连接到服务器，请检查后端服务是否启动"):t.response&&404===t.response.status?this.$message.warning("API接口不存在"):this.$message.error("加载历史记录失败，请稍后重试")}finally{this.loading=!1}},formatTime(t){const s=new Date(t);return s.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},downloadFile(t){t?window.open(t,"_blank"):this.$message.error("下载链接不存在")}}},v=e(6262);const f=(0,v.A)(p,[["render",g],["__scopeId","data-v-8fee323a"]]);var w=f}}]);
//# sourceMappingURL=794.795c5d07.js.map