{"version":3,"file":"js/794.acc9c253.js","mappings":"8NACOA,MAAM,W,GAGAA,MAAM,e,GAMRA,MAAM,mB,SAGGA,MAAM,gB,GAOTA,MAAM,wB,GACJA,MAAM,gB,GACLA,MAAM,iB,GACPA,MAAM,gB,GACNA,MAAM,gB,GAENA,MAAM,mB,sLAzBvB,QAwCM,MAxCN,EAwCM,EAvCJ,QAsCU,GAtCDA,MAAM,YAAYC,OAAO,S,CACrBC,QAAM,QACf,IAGM,EAHN,QAGM,MAHN,EAGM,C,aAFJ,QAAiB,YAAX,QAAI,KACV,QAA4B,Q,iBAAnB,IAAS,EAAT,QAAS,K,2BAItB,IA6BM,EA7BN,QA6BM,MA7BN,EA6BM,CA5BmC,IAAvB,EAAAC,YAAYC,S,WAA5B,QAAiE,G,MAAvBC,YAAY,c,WAEtD,QAyBM,MAzBN,EAyBM,G,aAxBJ,QAuBU,mBAtBgB,EAAAF,YAAW,CAA3BG,EAAMC,M,WADhB,QAuBU,GArBPC,IAAKD,EACNP,MAAM,eACNC,OAAO,S,kBAEP,IAgBM,EAhBN,QAgBM,MAhBN,EAgBM,EAfJ,QAIM,MAJN,EAIM,EAHJ,QAA+C,KAA/C,GAA+C,QAAlBK,EAAKG,OAAK,IACvC,QAA6D,IAA7D,GAA6D,QAAlC,EAAAC,WAAWJ,EAAKK,aAAU,IACrD,QAAkD,IAAlD,GAAkD,QAAvBL,EAAKD,aAAW,MAE7C,QASM,MATN,EASM,EARJ,QAOY,GANVO,KAAK,UACLC,KAAK,QACJ,QAAK,GAAE,EAAAC,aAAaR,EAAKS,c,kBAE1B,IAA+B,EAA/B,QAA+B,Q,iBAAtB,IAAY,EAAZ,QAAY,K,2BAAU,aAEjC,M,8FAchB,GACEC,KAAM,UACNC,WAAY,CACVC,MAAK,QACLC,SAAQ,YAEV,IAAAC,GACE,MAAO,CACLjB,YAAa,GACbkB,SAAS,EAEb,EACA,OAAAC,GACEC,KAAKC,aACP,EACAC,QAAS,CACP,iBAAMD,GACJD,KAAKF,SAAU,EACf,IACE,MAAMK,QAAiBC,EAAA,EAAMC,IAAI,gBACjCL,KAAKpB,YAAcuB,EAASN,KAAKA,MAAQ,GAGT,IAA5BG,KAAKpB,YAAYC,QACnByB,QAAQC,IAAI,SAEhB,CAAE,MAAOC,GACPF,QAAQE,MAAM,YAAaA,GAE3BR,KAAKpB,YAAc,GAGA,iBAAf4B,EAAMC,MAA0C,gBAAfD,EAAMC,KACzCT,KAAKU,SAASC,QAAQ,wBACbH,EAAML,UAAsC,MAA1BK,EAAML,SAASS,OAC1CZ,KAAKU,SAASC,QAAQ,YAEtBX,KAAKU,SAASF,MAAM,iBAExB,CAAE,QACAR,KAAKF,SAAU,CACjB,CACF,EAEA,UAAAX,CAAW0B,GACT,MAAMC,EAAO,IAAIC,KAAKF,GACtB,OAAOC,EAAKE,eAAe,QAAS,CAClCC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,WAEZ,EAEA,YAAA/B,CAAaC,GACPA,EACF+B,OAAOC,KAAKhC,EAAa,UAEzBQ,KAAKU,SAASF,MAAM,UAExB,I,UCvGJ,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://test-case-generator-client/./src/views/History.vue","webpack://test-case-generator-client/./src/views/History.vue?2c0e"],"sourcesContent":["<template>\n  <div class=\"history\">\n    <el-card class=\"main-card\" shadow=\"hover\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>生成记录</span>\n          <el-icon><Clock /></el-icon>\n        </div>\n      </template>\n\n      <div class=\"history-content\">\n        <el-empty v-if=\"historyList.length === 0\" description=\"暂无生成记录\" />\n        \n        <div v-else class=\"history-list\">\n          <el-card \n            v-for=\"(item, index) in historyList\" \n            :key=\"index\" \n            class=\"history-item\" \n            shadow=\"hover\"\n          >\n            <div class=\"history-item-content\">\n              <div class=\"history-info\">\n                <h3 class=\"history-title\">{{ item.title }}</h3>\n                <p class=\"history-time\">{{ formatTime(item.createTime) }}</p>\n                <p class=\"history-desc\">{{ item.description }}</p>\n              </div>\n              <div class=\"history-actions\">\n                <el-button \n                  type=\"primary\" \n                  size=\"small\" \n                  @click=\"downloadFile(item.downloadUrl)\"\n                >\n                  <el-icon><Download /></el-icon>\n                  下载XMind\n                </el-button>\n              </div>\n            </div>\n          </el-card>\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { Clock, Download } from '@element-plus/icons-vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'History',\n  components: {\n    Clock,\n    Download\n  },\n  data() {\n    return {\n      historyList: [],\n      loading: false\n    }\n  },\n  mounted() {\n    this.loadHistory()\n  },\n  methods: {\n    async loadHistory() {\n      this.loading = true\n      try {\n        const response = await axios.get('/api/history')\n        this.historyList = response.data.data || []\n        \n        // 如果历史记录为空，显示提示信息\n        if (this.historyList.length === 0) {\n          console.log('暂无历史记录')\n        }\n      } catch (error) {\n        console.error('加载历史记录失败:', error)\n        // 设置为空数组，显示空状态\n        this.historyList = []\n        \n        // 根据错误类型显示不同的提示\n        if (error.code === 'ECONNREFUSED' || error.code === 'ERR_NETWORK') {\n          this.$message.warning('无法连接到服务器，请检查后端服务是否启动')\n        } else if (error.response && error.response.status === 404) {\n          this.$message.warning('API接口不存在')\n        } else {\n          this.$message.error('加载历史记录失败，请稍后重试')\n        }\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    formatTime(timestamp) {\n      const date = new Date(timestamp)\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    },\n    \n    downloadFile(downloadUrl) {\n      if (downloadUrl) {\n        window.open(downloadUrl, '_blank')\n      } else {\n        this.$message.error('下载链接不存在')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.history {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.main-card {\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 18px;\n  font-weight: 600;\n  color: #303133;\n}\n\n.history-content {\n  min-height: 400px;\n}\n\n.history-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.history-item {\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.history-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n\n.history-item-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px;\n}\n\n.history-info {\n  flex: 1;\n}\n\n.history-title {\n  margin: 0 0 8px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #303133;\n  line-height: 1.4;\n}\n\n.history-time {\n  margin: 0 0 8px 0;\n  font-size: 12px;\n  color: #909399;\n}\n\n.history-desc {\n  margin: 0;\n  font-size: 14px;\n  color: #606266;\n  line-height: 1.5;\n  max-width: 600px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.history-actions {\n  margin-left: 20px;\n}\n\n.el-button {\n  border-radius: 6px;\n}\n</style>","import { render } from \"./History.vue?vue&type=template&id=8fee323a&scoped=true\"\nimport script from \"./History.vue?vue&type=script&lang=js\"\nexport * from \"./History.vue?vue&type=script&lang=js\"\n\nimport \"./History.vue?vue&type=style&index=0&id=8fee323a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8fee323a\"]])\n\nexport default __exports__"],"names":["class","shadow","header","historyList","length","description","item","index","key","title","formatTime","createTime","type","size","downloadFile","downloadUrl","name","components","Clock","Download","data","loading","mounted","this","loadHistory","methods","response","axios","get","console","log","error","code","$message","warning","status","timestamp","date","Date","toLocaleString","year","month","day","hour","minute","second","window","open","__exports__","render"],"sourceRoot":""}