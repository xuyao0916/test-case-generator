"use strict";(self["webpackChunktest_case_generator_client"]=self["webpackChunktest_case_generator_client"]||[]).push([[422],{2422:function(e,l,a){a.r(l),a.d(l,{default:function(){return _}});var t=a(641),o=a(33);const d={class:"api-docs"},i={class:"docs-toolbar"},n={key:0,class:"api-detail"},r={class:"detail-section"},s={class:"detail-section"};function p(e,l,a,p,u,c){const m=(0,t.g2)("Plus"),b=(0,t.g2)("el-icon"),h=(0,t.g2)("el-button"),w=(0,t.g2)("Search"),k=(0,t.g2)("el-input"),f=(0,t.g2)("el-table-column"),_=(0,t.g2)("el-tag"),g=(0,t.g2)("ViewIcon"),F=(0,t.g2)("Position"),A=(0,t.g2)("Delete"),v=(0,t.g2)("el-table"),y=(0,t.g2)("el-empty"),V=(0,t.g2)("el-card"),T=(0,t.g2)("el-form-item"),x=(0,t.g2)("el-option"),E=(0,t.g2)("el-select"),C=(0,t.g2)("el-form"),P=(0,t.g2)("el-dialog"),D=(0,t.g2)("el-descriptions-item"),L=(0,t.g2)("el-descriptions");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.bF)(V,{class:"page-card"},{header:(0,t.k6)(()=>l[11]||(l[11]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("h2",null,"API文档"),(0,t.Lk)("p",null,"管理和查看API接口文档")],-1)])),default:(0,t.k6)(()=>[(0,t.Lk)("div",i,[(0,t.bF)(h,{type:"primary",onClick:l[0]||(l[0]=e=>p.showAddDialog=!0)},{default:(0,t.k6)(()=>[(0,t.bF)(b,null,{default:(0,t.k6)(()=>[(0,t.bF)(m)]),_:1}),l[12]||(l[12]=(0,t.eW)(" 添加接口 ",-1))]),_:1,__:[12]}),(0,t.bF)(k,{modelValue:p.searchText,"onUpdate:modelValue":l[1]||(l[1]=e=>p.searchText=e),placeholder:"搜索接口名称或路径",style:{width:"300px","margin-left":"16px"},clearable:""},{prefix:(0,t.k6)(()=>[(0,t.bF)(b,null,{default:(0,t.k6)(()=>[(0,t.bF)(w)]),_:1})]),_:1},8,["modelValue"])]),(0,t.bF)(v,{data:p.filteredApis,style:{width:"100%","margin-top":"20px"},stripe:""},{default:(0,t.k6)(()=>[(0,t.bF)(f,{prop:"name",label:"接口名称",width:"200"}),(0,t.bF)(f,{prop:"method",label:"请求方法",width:"100"},{default:(0,t.k6)(e=>[(0,t.bF)(_,{type:p.getMethodType(e.row.method)},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(e.row.method),1)]),_:2},1032,["type"])]),_:1}),(0,t.bF)(f,{prop:"path",label:"接口路径"}),(0,t.bF)(f,{prop:"description",label:"描述","show-overflow-tooltip":""}),(0,t.bF)(f,{label:"操作",width:"200"},{default:(0,t.k6)(e=>[(0,t.bF)(h,{size:"small",onClick:l=>p.viewApi(e.row)},{default:(0,t.k6)(()=>[(0,t.bF)(b,null,{default:(0,t.k6)(()=>[(0,t.bF)(g)]),_:1}),l[13]||(l[13]=(0,t.eW)(" 查看 ",-1))]),_:2,__:[13]},1032,["onClick"]),(0,t.bF)(h,{size:"small",type:"primary",onClick:l=>p.testApi(e.row)},{default:(0,t.k6)(()=>[(0,t.bF)(b,null,{default:(0,t.k6)(()=>[(0,t.bF)(F)]),_:1}),l[14]||(l[14]=(0,t.eW)(" 测试 ",-1))]),_:2,__:[14]},1032,["onClick"]),(0,t.bF)(h,{size:"small",type:"danger",onClick:l=>p.deleteApi(e.$index)},{default:(0,t.k6)(()=>[(0,t.bF)(b,null,{default:(0,t.k6)(()=>[(0,t.bF)(A)]),_:1}),l[15]||(l[15]=(0,t.eW)(" 删除 ",-1))]),_:2,__:[15]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),0===p.filteredApis.length?((0,t.uX)(),(0,t.Wv)(y,{key:0,description:"暂无API接口数据"})):(0,t.Q3)("",!0)]),_:1}),(0,t.bF)(P,{modelValue:p.showAddDialog,"onUpdate:modelValue":l[9]||(l[9]=e=>p.showAddDialog=e),title:"添加API接口",width:"600px"},{footer:(0,t.k6)(()=>[(0,t.bF)(h,{onClick:l[8]||(l[8]=e=>p.showAddDialog=!1)},{default:(0,t.k6)(()=>l[16]||(l[16]=[(0,t.eW)("取消",-1)])),_:1,__:[16]}),(0,t.bF)(h,{type:"primary",onClick:p.addApi},{default:(0,t.k6)(()=>l[17]||(l[17]=[(0,t.eW)("确定",-1)])),_:1,__:[17]},8,["onClick"])]),default:(0,t.k6)(()=>[(0,t.bF)(C,{model:p.newApi,"label-width":"100px"},{default:(0,t.k6)(()=>[(0,t.bF)(T,{label:"接口名称",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:p.newApi.name,"onUpdate:modelValue":l[2]||(l[2]=e=>p.newApi.name=e),placeholder:"输入接口名称"},null,8,["modelValue"])]),_:1}),(0,t.bF)(T,{label:"请求方法",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(E,{modelValue:p.newApi.method,"onUpdate:modelValue":l[3]||(l[3]=e=>p.newApi.method=e),placeholder:"选择请求方法"},{default:(0,t.k6)(()=>[(0,t.bF)(x,{label:"GET",value:"GET"}),(0,t.bF)(x,{label:"POST",value:"POST"}),(0,t.bF)(x,{label:"PUT",value:"PUT"}),(0,t.bF)(x,{label:"DELETE",value:"DELETE"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(T,{label:"接口路径",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:p.newApi.path,"onUpdate:modelValue":l[4]||(l[4]=e=>p.newApi.path=e),placeholder:"例如：/api/users"},null,8,["modelValue"])]),_:1}),(0,t.bF)(T,{label:"描述"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:p.newApi.description,"onUpdate:modelValue":l[5]||(l[5]=e=>p.newApi.description=e),type:"textarea",rows:3,placeholder:"接口功能描述"},null,8,["modelValue"])]),_:1}),(0,t.bF)(T,{label:"请求参数"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:p.newApi.parameters,"onUpdate:modelValue":l[6]||(l[6]=e=>p.newApi.parameters=e),type:"textarea",rows:4,placeholder:"JSON格式的参数说明"},null,8,["modelValue"])]),_:1}),(0,t.bF)(T,{label:"响应示例"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:p.newApi.response,"onUpdate:modelValue":l[7]||(l[7]=e=>p.newApi.response=e),type:"textarea",rows:4,placeholder:"JSON格式的响应示例"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,t.bF)(P,{modelValue:p.showViewDialog,"onUpdate:modelValue":l[10]||(l[10]=e=>p.showViewDialog=e),title:"接口详情",width:"800px"},{default:(0,t.k6)(()=>[p.currentApi?((0,t.uX)(),(0,t.CE)("div",n,[(0,t.bF)(L,{column:2,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(D,{label:"接口名称"},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(p.currentApi.name),1)]),_:1}),(0,t.bF)(D,{label:"请求方法"},{default:(0,t.k6)(()=>[(0,t.bF)(_,{type:p.getMethodType(p.currentApi.method)},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(p.currentApi.method),1)]),_:1},8,["type"])]),_:1}),(0,t.bF)(D,{label:"接口路径",span:2},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(p.currentApi.path),1)]),_:1}),(0,t.bF)(D,{label:"描述",span:2},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(p.currentApi.description||"暂无描述"),1)]),_:1})]),_:1}),(0,t.Lk)("div",r,[l[18]||(l[18]=(0,t.Lk)("h4",null,"请求参数：",-1)),(0,t.bF)(k,{"model-value":p.currentApi.parameters||"暂无参数说明",type:"textarea",rows:6,readonly:"",class:"code-textarea"},null,8,["model-value"])]),(0,t.Lk)("div",s,[l[19]||(l[19]=(0,t.Lk)("h4",null,"响应示例：",-1)),(0,t.bF)(k,{"model-value":p.currentApi.response||"暂无响应示例",type:"textarea",rows:6,readonly:"",class:"code-textarea"},null,8,["model-value"])])])):(0,t.Q3)("",!0)]),_:1},8,["modelValue"])])}var u=a(953),c=a(163),m=a(7918),b=a(8548),h=a(5220),w={name:"ApiDocs",components:{Plus:b.Plus,Search:b.Search,ViewIcon:b.View,Position:b.Position,Delete:b.Delete},setup(){const e=(0,h.rd)(),l=(0,u.KR)(""),a=(0,u.KR)(!1),o=(0,u.KR)(!1),d=(0,u.KR)(null),i=(0,u.KR)([{name:"生成测试用例",method:"POST",path:"/api/generate",description:"根据输入内容生成测试用例",parameters:JSON.stringify({textInput:"string - 文本输入内容",file:"file - 上传的文件（可选）"},null,2),response:JSON.stringify({success:!0,content:"生成的测试用例内容",downloadUrl:"/api/download/filename.xmind"},null,2)},{name:"获取历史记录",method:"GET",path:"/api/history",description:"获取测试用例生成历史记录",parameters:"无需参数",response:JSON.stringify({success:!0,data:[{id:1234567890,title:"测试用例标题",description:"描述信息",createTime:1234567890,downloadUrl:"/api/download/filename.xmind"}]},null,2)},{name:"健康检查",method:"GET",path:"/api/health",description:"检查服务器运行状态",parameters:"无需参数",response:JSON.stringify({status:"OK",message:"测试用例生成平台运行正常"},null,2)}]),n=(0,u.Kh)({name:"",method:"GET",path:"",description:"",parameters:"",response:""}),r=(0,t.EW)(()=>l.value?i.value.filter(e=>e.name.toLowerCase().includes(l.value.toLowerCase())||e.path.toLowerCase().includes(l.value.toLowerCase())):i.value),s=e=>{const l={GET:"success",POST:"primary",PUT:"warning",DELETE:"danger"};return l[e]||"info"},p=()=>{n.name&&n.method&&n.path?(i.value.push({...n}),Object.assign(n,{name:"",method:"GET",path:"",description:"",parameters:"",response:""}),a.value=!1,c.nk.success("添加成功")):c.nk.warning("请填写必填字段")},b=e=>{d.value=e,o.value=!0},w=l=>{e.push({path:"/api/test",query:{method:l.method,url:`http://localhost:3001${l.path}`}})},k=async e=>{try{await m.s.confirm("确定要删除这个接口吗？","确认删除",{type:"warning"}),i.value.splice(e,1),c.nk.success("删除成功")}catch{}};return{searchText:l,showAddDialog:a,showViewDialog:o,currentApi:d,apis:i,newApi:n,filteredApis:r,getMethodType:s,addApi:p,viewApi:b,testApi:w,deleteApi:k}}},k=a(6262);const f=(0,k.A)(w,[["render",p],["__scopeId","data-v-7723f33c"]]);var _=f}}]);
//# sourceMappingURL=422.98759734.js.map